<p-table [value]="materials" [tableStyle]="{ 'min-width': '60rem' }">
  <ng-template #caption>
      <div class="flex items-center justify-between">
          <span class="text-xl font-bold">Products</span>
         
      </div>
  </ng-template>
  <ng-template #header>
    <tr>
      <th>Name</th>
      <th>Category</th>
      <th>Quantity</th>
      <th>Unit</th>
      <th>Price</th>
      <th>Total</th>
      <th>Location</th>
      <th>Description</th>
      <th>Added On</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template #body let-material>
    <tr>
      <td>{{ material.name }}</td>
      <td>{{ material.category?.name ?? 'NC' }}</td>
      <td>{{ material.quantity }}</td>
      <td>{{ material.unit?.name ?? 'NU' }}</td>
      <td>{{ material.price | currency }}</td>
      <td>{{ (material.quantity * material.price) | currency }}</td>
      <td>{{ material.location?.name ?? 'NL' }}</td>
      <td>{{ material.description }}</td>
      <td *ngIf="material.created_at">{{ material.created_at | date }}</td>
      <td>
        <button class="edit-btn" (click)="editMaterial(material)">Edit</button>
      </td>
    </tr>
</ng-template>

  
  <ng-template #footer>    <!-- Summary row -->
    <tr class="summary-row">
      <td colspan="2"><strong>Totals:</strong></td>
      <td><strong>{{ totalQuantity() }}</strong></td>
      <td></td>
      <td><strong>{{ averagePrice() | currency }}</strong></td>
      <td><strong>{{ totalValue() | currency }}</strong></td>
      <td colspan="4"></td>
    </tr>
  </ng-template>
</p-table>
